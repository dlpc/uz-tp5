(function(a){if(typeof define==="function"&&define.amd){define(a)}else{if(typeof module!="undefined"&&typeof module.exports!="undefined"){module.exports=a()}else{if(typeof Package!=="undefined"){Sortable=a()}else{window.Sortable=a()}}}})(function(){var D,F,s,R,m,Q,r,n,G,S,E,f,B={},w,A,p=/\s+/g,P="Sortable"+(new Date).getTime(),N=window,d=N.document,k=N.parseInt,i=!!("draggable" in d.createElement("div")),q=false,x=Math.abs,o=[].slice,I=[],h=g(function(ae,af,ad){if(ad&&af.scroll){var T,ab,Y=af.scrollSensitivity,V=af.scrollSpeed,ac=ae.clientX,aa=ae.clientY,U=window.innerWidth,W=window.innerHeight,Z,X;if(r!==ad){Q=af.scroll;r=ad;if(Q===true){Q=ad;do{if((Q.offsetWidth<Q.scrollWidth)||(Q.offsetHeight<Q.scrollHeight)){break}}while(Q=Q.parentNode)}}if(Q){T=Q;ab=Q.getBoundingClientRect();Z=(x(ab.right-ac)<=Y)-(x(ab.left-ac)<=Y);X=(x(ab.bottom-aa)<=Y)-(x(ab.top-aa)<=Y)}if(!(Z||X)){Z=(U-ac<=Y)-(ac<=Y);X=(W-aa<=Y)-(aa<=Y);(Z||X)&&(T=N)}if(B.vx!==Z||B.vy!==X||B.el!==T){B.el=T;B.vx=Z;B.vy=X;clearInterval(B.pid);if(T){B.pid=setInterval(function(){if(T===N){N.scrollTo(N.pageXOffset+Z*V,N.pageYOffset+X*V)}else{X&&(T.scrollTop+=X*V);Z&&(T.scrollLeft+=Z*V)}},24)}}}},30);function a(W,U){this.el=W;this.options=U=u({},U);W[P]=this;var Y={group:Math.random(),sort:true,disabled:false,store:null,handle:null,scroll:true,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(W.nodeName)?"li":">*",ghostClass:"sortable-ghost",ignore:"a, img",filter:null,animation:0,setData:function(aa,Z){aa.setData("Text",Z.textContent)},dropBubble:false,dragoverBubble:false,dataIdAttr:"data-id",delay:0};for(var T in Y){!(T in U)&&(U[T]=Y[T])}var X=U.group;if(!X||typeof X!="object"){X=U.group={name:X}}["pull","put"].forEach(function(Z){if(!(Z in X)){X[Z]=true}});U.groups=" "+X.name+(X.put.join?" "+X.put.join(" "):"")+" ";for(var V in this){if(V.charAt(0)==="_"){this[V]=e(this,this[V])}}z(W,"mousedown",this._onTapStart);z(W,"touchstart",this._onTapStart);z(W,"dragover",this);z(W,"dragenter",this);I.push(this._onDragOver);U.store&&this.sort(U.store.get(this))}a.prototype={constructor:a,_onTapStart:function(aa){var X=this,V=this.el,ab=this.options,Z=aa.type,W=aa.touches&&aa.touches[0],Y=(W||aa).target,U=Y,T=ab.filter;if(Z==="mousedown"&&aa.button!==0||ab.disabled){return}Y=O(Y,ab.draggable,V);if(!Y){return}S=C(Y);if(typeof T==="function"){if(T.call(this,aa,Y,this)){v(X,U,"filter",Y,V,S);aa.preventDefault();return}}else{if(T){T=T.split(",").some(function(ac){ac=O(U,ac.trim(),V);if(ac){v(X,ac,"filter",Y,V,S);return true}});if(T){aa.preventDefault();return}}}if(ab.handle&&!O(U,ab.handle,V)){return}this._prepareDragStart(aa,W,Y)},_prepareDragStart:function(T,aa,Y){var Z=this,X=Z.el,V=Z.options,U=X.ownerDocument,W;if(Y&&!D&&(Y.parentNode===X)){w=T;R=X;D=Y;m=D.nextSibling;f=V.group;W=function(){Z._disableDelayedDrag();D.draggable=true;V.ignore.split(",").forEach(function(ab){H(D,ab.trim(),l)});Z._triggerDragStart(aa)};z(U,"mouseup",Z._onDrop);z(U,"touchend",Z._onDrop);z(U,"touchcancel",Z._onDrop);if(V.delay){z(U,"mousemove",Z._disableDelayedDrag);z(U,"touchmove",Z._disableDelayedDrag);Z._dragStartTimer=setTimeout(W,V.delay)}else{W()}}},_disableDelayedDrag:function(){var T=this.el.ownerDocument;clearTimeout(this._dragStartTimer);L(T,"mousemove",this._disableDelayedDrag);L(T,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(U){if(U){w={target:D,clientX:U.clientX,clientY:U.clientY};this._onDragStart(w,"touch")}else{if(!i){this._onDragStart(w,true)}else{z(D,"dragend",this);z(R,"dragstart",this._onDragStart)}}try{if(d.selection){d.selection.empty()}else{window.getSelection().removeAllRanges()}}catch(T){}},_dragStarted:function(){if(R&&D){j(D,this.options.ghostClass,true);a.active=this;v(this,R,"start",D,R,S)}},_emulateDragOver:function(){if(A){M(F,"display","none");var V=d.elementFromPoint(A.clientX,A.clientY),U=V,W=" "+this.options.group.name+"",T=I.length;if(U){do{if(U[P]&&U[P].options.groups.indexOf(W)>-1){while(T--){I[T]({clientX:A.clientX,clientY:A.clientY,target:V,rootEl:U})}break}V=U}while(U=U.parentNode)}M(F,"display","")}},_onTouchMove:function(U){if(w){var X=U.touches?U.touches[0]:U,V=X.clientX-w.clientX,T=X.clientY-w.clientY,W=U.touches?"translate3d("+V+"px,"+T+"px,0)":"translate("+V+"px,"+T+"px)";A=X;M(F,"webkitTransform",W);M(F,"mozTransform",W);M(F,"msTransform",W);M(F,"transform",W);U.preventDefault()}},_onDragStart:function(T,X){var Y=T.dataTransfer,U=this.options;this._offUpEvents();if(f.pull=="clone"){s=D.cloneNode(true);M(s,"display","none");R.insertBefore(s,D)}if(X){var W=D.getBoundingClientRect(),V=M(D),Z;F=D.cloneNode(true);M(F,"top",W.top-k(V.marginTop,10));M(F,"left",W.left-k(V.marginLeft,10));M(F,"width",W.width);M(F,"height",W.height);M(F,"opacity","0.8");M(F,"position","fixed");M(F,"zIndex","100000");R.appendChild(F);Z=F.getBoundingClientRect();M(F,"width",W.width*2-Z.width);M(F,"height",W.height*2-Z.height);if(X==="touch"){z(d,"touchmove",this._onTouchMove);z(d,"touchend",this._onDrop);z(d,"touchcancel",this._onDrop)}else{z(d,"mousemove",this._onTouchMove);z(d,"mouseup",this._onDrop)}this._loopId=setInterval(this._emulateDragOver,150)}else{if(Y){Y.effectAllowed="move";U.setData&&U.setData.call(this,Y,D)}z(d,"drop",this)}setTimeout(this._dragStarted,0)},_onDragOver:function(ac){var T=this.el,am,Z,U,Y=this.options,aa=Y.group,X=aa.put,V=(f===aa),al=Y.sort;if(ac.preventDefault!==void 0){ac.preventDefault();!Y.dragoverBubble&&ac.stopPropagation()}if(f&&!Y.disabled&&(V?al||(U=!R.contains(D)):f.pull&&X&&((f.name===aa.name)||(X.indexOf&&~X.indexOf(f.name))))&&(ac.rootEl===void 0||ac.rootEl===this.el)){h(ac,Y,this.el);if(q){return}am=O(ac.target,Y.draggable,T);Z=D.getBoundingClientRect();if(U){t(true);if(s||m){R.insertBefore(D,s||m)}else{if(!al){R.appendChild(D)}}return}if((T.children.length===0)||(T.children[0]===F)||(T===ac.target)&&(am=J(T,ac))){if(am){if(am.animated){return}af=am.getBoundingClientRect()}t(V);if(y(R,T,D,Z,am,af)!==false){T.appendChild(D);this._animate(Z,D);am&&this._animate(af,am)}}else{if(am&&!am.animated&&am!==D&&(am.parentNode[P]!==void 0)){if(n!==am){n=am;G=M(am)}var af=am.getBoundingClientRect(),ag=af.right-af.left,ae=af.bottom-af.top,ad=/left|right|inline/.test(G.cssFloat+G.display),ai=(am.offsetWidth>D.offsetWidth),aj=(am.offsetHeight>D.offsetHeight),ah=(ad?(ac.clientX-af.left)/ag:(ac.clientY-af.top)/ae)>0.5,ab=am.nextElementSibling,ak=y(R,T,D,Z,am,af),W;if(ak!==false){q=true;setTimeout(b,30);t(V);if(ak===1||ak===-1){W=(ak===1)}else{if(ad){W=(am.previousElementSibling===D)&&!ai||ah&&ai}else{W=(ab!==D)&&!aj||ah&&aj}}if(W&&!ab){T.appendChild(D)}else{am.parentNode.insertBefore(D,W?ab:am)}this._animate(Z,D);this._animate(af,am)}}}}},_animate:function(T,W){var U=this.options.animation;if(U){var V=W.getBoundingClientRect();M(W,"transition","none");M(W,"transform","translate3d("+(T.left-V.left)+"px,"+(T.top-V.top)+"px,0)");W.offsetWidth;M(W,"transition","all "+U+"ms");M(W,"transform","translate3d(0,0,0)");clearTimeout(W.animated);W.animated=setTimeout(function(){M(W,"transition","");M(W,"transform","");W.animated=false},U)}},_offUpEvents:function(){var T=this.el.ownerDocument;L(d,"touchmove",this._onTouchMove);L(T,"mouseup",this._onDrop);L(T,"touchend",this._onDrop);L(T,"touchcancel",this._onDrop)},_onDrop:function(T){var V=this.el,U=this.options;clearInterval(this._loopId);clearInterval(B.pid);clearTimeout(this.dragStartTimer);L(d,"drop",this);L(d,"mousemove",this._onTouchMove);L(V,"dragstart",this._onDragStart);this._offUpEvents();if(T){T.preventDefault();!U.dropBubble&&T.stopPropagation();F&&F.parentNode.removeChild(F);if(D){L(D,"dragend",this);l(D);j(D,this.options.ghostClass,false);if(R!==D.parentNode){E=C(D);v(null,D.parentNode,"sort",D,R,S,E);v(this,R,"sort",D,R,S,E);v(null,D.parentNode,"add",D,R,S,E);v(this,R,"remove",D,R,S,E)}else{s&&s.parentNode.removeChild(s);if(D.nextSibling!==m){E=C(D);v(this,R,"update",D,R,S,E);v(this,R,"sort",D,R,S,E)}}if(a.active){v(this,R,"end",D,R,S,E);this.save()}}R=D=F=m=s=Q=r=w=A=n=G=f=a.active=null}},handleEvent:function(T){var U=T.type;if(U==="dragover"||U==="dragenter"){if(D){this._onDragOver(T);K(T)}}else{if(U==="drop"||U==="dragend"){this._onDrop(T)}}},toArray:function(){var T=[],X,W=this.el.children,V=0,Y=W.length,U=this.options;for(;V<Y;V++){X=W[V];if(O(X,U.draggable,this.el)){T.push(X.getAttribute(U.dataIdAttr)||c(X))}}return T},sort:function(T){var U={},V=this.el;this.toArray().forEach(function(Y,W){var X=V.children[W];if(O(X,this.options.draggable,V)){U[Y]=X}},this);T.forEach(function(W){if(U[W]){V.removeChild(U[W]);V.appendChild(U[W])}})},save:function(){var T=this.options.store;T&&T.set(this)},closest:function(U,T){return O(U,T||this.options.draggable,this.el)},option:function(U,V){var T=this.options;if(V===void 0){return T[U]}else{T[U]=V}},destroy:function(){var T=this.el;T[P]=null;L(T,"mousedown",this._onTapStart);L(T,"touchstart",this._onTapStart);L(T,"dragover",this);L(T,"dragenter",this);Array.prototype.forEach.call(T.querySelectorAll("[draggable]"),function(U){U.removeAttribute("draggable")});I.splice(I.indexOf(this._onDragOver),1);this._onDrop();this.el=T=null}};function t(T){if(s&&(s.state!==T)){M(s,"display",T?"none":"");!T&&s.state&&R.insertBefore(s,D);s.state=T}}function e(T,V){var U=o.call(arguments,2);return V.bind?V.bind.apply(V,[T].concat(U)):function(){return V.apply(T,U.concat(o.call(arguments)))}}function O(X,U,V){if(X){V=V||d;U=U.split(".");var T=U.shift().toUpperCase(),W=new RegExp("\\s("+U.join("|")+")\\s","g");do{if((T===">*"&&X.parentNode===V)||((T===""||X.nodeName.toUpperCase()==T)&&(!U.length||((" "+X.className+" ").match(W)||[]).length==U.length))){return X}}while(X!==V&&(X=X.parentNode))}return null}function K(T){T.dataTransfer.dropEffect="move";T.preventDefault()}function z(U,V,T){U.addEventListener(V,T,false)}function L(U,V,T){U.removeEventListener(V,T,false)}function j(V,T,W){if(V){if(V.classList){V.classList[W?"add":"remove"](T)}else{var U=(" "+V.className+" ").replace(p," ").replace(" "+T+" "," ");V.className=(U+(W?" "+T:"")).replace(p," ")}}}function M(U,W,V){var T=U&&U.style;if(T){if(V===void 0){if(d.defaultView&&d.defaultView.getComputedStyle){V=d.defaultView.getComputedStyle(U,"")}else{if(U.currentStyle){V=U.currentStyle}}return W===void 0?V:V[W]}else{if(!(W in T)){W="-webkit-"+W}T[W]=V+(typeof V==="string"?"":"px")}}}function H(T,V,W){if(T){var X=T.getElementsByTagName(V),U=0,Y=X.length;if(W){for(;U<Y;U++){W(X[U],U)}}return X}return[]}function v(U,X,T,ab,V,W,Y){var Z=d.createEvent("Event"),ac=(U||X[P]).options,aa="on"+T.charAt(0).toUpperCase()+T.substr(1);Z.initEvent(T,true,true);Z.to=X;Z.from=V||X;Z.item=ab||X;Z.clone=s;Z.oldIndex=W;Z.newIndex=Y;X.dispatchEvent(Z);if(ac[aa]){ac[aa].call(U,Z)}}function y(Y,V,W,aa,ac,T){var ab,X=Y[P],Z=X.options.onMove,U;if(Z){ab=d.createEvent("Event");ab.initEvent("move",true,true);ab.to=V;ab.from=Y;ab.dragged=W;ab.draggedRect=aa;ab.related=ac||V;ab.relatedRect=T||V.getBoundingClientRect();U=Z.call(X,ab)}return U}function l(T){T.draggable=false}function b(){q=false}function J(V,T){var U=V.lastElementChild,W=U.getBoundingClientRect();return(T.clientY-(W.top+W.height)>5)&&U}function c(V){var W=V.tagName+V.className+V.src+V.href+V.textContent,T=W.length,U=0;while(T--){U+=W.charCodeAt(T)}return U.toString(36)}function C(U){var T=0;while(U&&(U=U.previousElementSibling)){if(U.nodeName.toUpperCase()!=="TEMPLATE"){T++}}return T}function g(W,U){var T,V;return function(){if(T===void 0){T=arguments;V=this;setTimeout(function(){if(T.length===1){W.call(V,T[0])}else{W.apply(V,T)}T=void 0},U)}}}function u(V,U){if(V&&U){for(var T in U){if(U.hasOwnProperty(T)){V[T]=U[T]}}}return V}a.utils={on:z,off:L,css:M,find:H,bind:e,is:function(U,T){return !!O(U,T,U)},extend:u,throttle:g,closest:O,toggleClass:j,index:C};a.version="1.2.0";a.create=function(U,T){return new a(U,T)};return a});